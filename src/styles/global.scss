@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global Font System */
:root {
  /* Font Family Stack - Modern System Fonts */
  --font-family-primary: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", "Noto Sans", "Liberation Sans", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-family-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;

  /* Font Weights */
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* Font Sizes */
  --font-size-xs: 0.75rem;    /* 12px */
  --font-size-sm: 0.875rem;   /* 14px */
  --font-size-base: 1rem;     /* 16px */
  --font-size-lg: 1.125rem;   /* 18px */
  --font-size-xl: 1.25rem;    /* 20px */
  --font-size-2xl: 1.5rem;    /* 24px */
  --font-size-3xl: 1.875rem;  /* 30px */
  --font-size-4xl: 2.25rem;   /* 36px */

  /* Line Heights */
  --line-height-tight: 1.25;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.75;
}

/* Global Reset for Header Positioning */
html, body {
  margin: 0 !important;
  padding: 0 !important;
  overflow-x: hidden !important;
  overflow-y: auto !important;
  isolation: isolate;
  font-family: var(--font-family-primary) !important;
  font-weight: var(--font-weight-normal) !important;
  font-size: var(--font-size-base) !important;
  line-height: var(--line-height-normal) !important;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: #fff !important; /* force white globally */
}

/* Ensure main content starts right below header */
main, .main-content {
  margin-top: 0 !important;
  /* Do NOT reset padding-top here; allow layouts to control header offset */
  isolation: isolate;
  position: relative;
  z-index: 1;
}

/* Ensure header is always positioned correctly */
.header-dropdown {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
  transform: none !important;
  width: 100% !important;
  max-width: 100% !important;
  background: #FFFFFF !important;
  z-index: 10002 !important;
  overflow: visible !important; /* Không cắt dropdown */
}

/* Force container to center without margins */
.header-dropdown__container {
  max-width: 1920px !important;
  width: 100% !important;
  position: relative !important;
  left: 0 !important;
  right: 0 !important;
  transform: none !important;
}

/* Force header sections to align correctly */
.header-logo-section {
  flex: 0 0 auto !important;
  justify-content: flex-start !important;
}

.header-menu-section {
  flex: 1 !important;
  justify-content: center !important;
}

.header-right-section {
  flex: 0 0 auto !important;
  justify-content: flex-end !important;
  margin-left: auto !important; /* Force push to right */
}

/* Global Custom Scrollbar Styles */
::-webkit-scrollbar {
  width: 10px !important;
  height: 10px !important;
}

::-webkit-scrollbar-track {
  background: #f1f1f1 !important;
  border-radius: 10px !important;
}

::-webkit-scrollbar-thumb {
  background: #4CAF50 !important;
  border-radius: 10px !important;
  border: none !important;
}

::-webkit-scrollbar-thumb:hover {
  background: #2e7d32 !important;
}

::-webkit-scrollbar-corner {
  background: #f1f1f1 !important;
}

/* Firefox scrollbar - scope to admin only */
.admin-layout *, .admin-users * {
  scrollbar-width: none !important;
}

/* Apply to admin containers only (avoid overriding app-wide) */
.admin-layout html, .admin-layout body,
.admin-layout div, .admin-layout section, .admin-layout main,
.admin-layout aside, .admin-layout article, .admin-layout ul,
.admin-layout ol, .admin-layout li,
.admin-users div, .admin-users section, .admin-users main,
.admin-users aside, .admin-users article, .admin-users ul,
.admin-users ol, .admin-users li {
  scrollbar-width: none !important;
}

.admin-layout *::-webkit-scrollbar,
.admin-users *::-webkit-scrollbar {
  display: none !important;
}

.admin-layout,
.admin-users {
  -ms-overflow-style: none !important;  /* IE and Edge */
  scrollbar-width: none !important;  /* Firefox */
}

/* Loại bỏ ::after chỉ trong admin để tránh ảnh hưởng nơi khác */
.admin-layout button::after,
.admin-layout .btn::after,
.admin-layout button:active::after,
.admin-layout .btn:active::after,
.admin-layout button:hover::after,
.admin-layout .btn:hover::after,
.admin-layout button:focus::after,
.admin-layout .btn:focus::after,
.admin-users button::after,
.admin-users .btn::after,
.admin-users button:active::after,
.admin-users .btn:active::after,
.admin-users button:hover::after,
.admin-users .btn:hover::after,
.admin-users button:focus::after,
.admin-users .btn:focus::after {
  display: none !important;
  content: none !important;
  opacity: 0 !important;
  visibility: hidden !important;
  width: 0 !important;
  height: 0 !important;
  background: none !important;
  border: none !important;
  position: absolute !important;
  top: -9999px !important;
  left: -9999px !important;
}

/* ---- Brand Color Variables (mirror docs/COLOR_SCHEME.md) ---- */
:root {
  /* Primary */
  --primary-50: #FFF9E5;
  --primary-100: #fff6d6;
  --primary-200: #ffedac;
  --primary-300: #ffe483;
  --primary-400: #FFD875;
  --primary-500: #FFD875;
  --primary-600: #B8860B;
  --primary-700: #8B6914;
  --primary-800: #5D4A00;
  --primary-900: #2F2500;
  /* Gold/White gradients */
  --brand-gold: #FFD875;
  --brand-gold-deep: #B8860B;
  --brand-white: #FFFFFF;
  --gradient-gold-white: linear-gradient(135deg, var(--brand-gold) 0%, var(--brand-white) 100%);
  --gradient-gold-deep: linear-gradient(135deg, var(--brand-gold-deep) 0%, var(--brand-gold) 100%);

  /* Secondary */
  --secondary-50: #FFF9E5;
  --secondary-100: #fff6d6;
  --secondary-200: #ffedac;
  --secondary-300: #ffe483;
  --secondary-400: #4A9782;
  --secondary-500: #4A9782;
  --secondary-600: #3d7a6a;
  --secondary-700: #305c52;
  --secondary-800: #44444E;
  --secondary-900: #44444E;

  /* Text */
  --text-primary: #000000;
  --text-secondary: #6b7280;
  --text-inverse: #000000;
  --text-deep: #1f2937; /* dark for readability on light gradients */

  /* Surfaces */
  --bg-primary: #FFD875;
  --bg-card: #ffffff;
  --border-primary: #e5e7eb;
  --border-focus: var(--primary-400);

  /* Booking Progress */
  --progress-completed: #10b981; /* success */
  --progress-current: var(--primary-500);
  --progress-pending: #9ca3af;
  --progress-connector: var(--border-primary);
}

/* Shared utilities for booking progress */
.booking-progress {
  --_completed: var(--progress-completed);
  --_current: var(--progress-current);
  --_pending: var(--progress-pending);
  --_connector: var(--progress-connector);
}

/* ---- Unified Buttons ---- */
.btn-primary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .5rem;
  padding: .75rem 1.25rem;
  background: var(--gradient-gold-white);
  color: var(--text-deep);
  border: 1px solid transparent;
  border-radius: 12px;
  font-weight: 700;
  letter-spacing: .2px;
  cursor: pointer;
  transition: all .2s ease;
}
.btn-primary:hover { background: var(--gradient-gold-deep); box-shadow: 0 6px 18px rgba(0,0,0,.12); }
.btn-primary:active { transform: translateY(1px); }
.btn-primary:disabled { background: #e5e7eb; border-color: #e5e7eb; color: #9ca3af; cursor: not-allowed; box-shadow: none; }

.btn-secondary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .5rem;
  padding: .7rem 1.15rem;
  background: transparent;
  color: var(--text-deep);
  border: 2px solid transparent;
  border-image: var(--gradient-gold-white) 1;
  border-radius: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: all .2s ease;
}
.btn-secondary:hover { background: linear-gradient(135deg, rgba(255,216,117,0.15), rgba(255,255,255,0.5)); }
.btn-secondary:active { transform: translateY(1px); }
.btn-secondary:disabled { opacity: .6; cursor: not-allowed; }
/* Gold gradient text utility */
.text-gold-gradient {
  background: var(--gradient-gold-deep);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

table, th, td, thead, tbody {
  border: none !important;
  box-shadow: none !important;
  outline: none !important;
}

table th {
  border-bottom: 1px solid var(--border-primary) !important;
}
table td {
  border-bottom: 1px solid var(--border-primary) !important;
}
table tr:last-child td {
  border-bottom: none !important;
}

table th:not(:last-child), table td:not(:last-child) {
  border-right: 1px solid var(--border-primary) !important;
}

table thead tr:first-child th {
  border-top: 1px solid var(--border-primary) !important;
}

/* Removed: table th:first-child:not(.cm-th) rule to allow border-right on first column */

/* Global overrides for admin/technician toolbars */
.toolbar-sep { display: none !important; }
.toolbar-left { gap: 0 !important; }
.toolbar-search .search-wrap::after, .search-wrap::after { display: none !important; content: none !important; }
.toolbar-search .search-wrap:focus-within::after { display: none !important; }

.pill-select {
  display: inline-flex;
  align-items: center;
  gap: 0;
}
.pill-select .pill-trigger {
  display: flex;
  align-items: center;
  min-width: 84px;
  height: 36px;
  font-size: 14px;
  background: #fff;
  border: 1px solid var(--border-primary);
  border-radius: 6px;
  color: var(--text-primary);
  padding: 0 28px 0 12px;
  cursor: pointer;
  position: relative;
}
.pill-select .pill-trigger svg,
.pill-select .pill-trigger .icon {
  margin-left: 0 !important;
  margin-right: 0 !important;
  min-width: 18px;
  width: 18px;
  height: 18px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
}

/* Filter pill nhỏ gọn */
.pill-select.filter .pill-trigger,
.pill-select.is-filter .pill-trigger {
  min-width: 60px;
  height: 32px;
  font-size: 13px;
  padding: 0 18px 0 8px;
}
/* Pagination pill giữ lớn như hiện tại */
.pagination-info .pill-select {
  width: 70px !important;
  min-width: 0 !important;
  max-width: 80px !important;
}
.pagination-info .pill-select .pill-trigger {
  min-width: 0 !important;
  width: 70px !important;
  max-width: 80px !important;
  padding: 0 4px !important;
  font-size: 13px !important;
  height: 26px !important;
  text-align:center !important;
}
.pagination-info .pill-trigger .caret {
  right: 2px !important;
}
/* Icon căn trong đúng chuẩn mũi tên cuối bên phải (auto fit) */
.pill-trigger svg,
.pill-trigger .icon {
  margin-left: auto !important;
  min-width: 18px;
  width: 18px;
  height: 18px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
}
